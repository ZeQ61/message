2025-06-13 01:12:51,088 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2025-06-13 01:12:51,155 INFO o.s.b.StartupInfoLogger [main] Starting ChatappApplication using Java 21.0.5 with PID 20080 (C:\Users\zeki1\OneDrive\Masa端st端\message\backend\target\classes started by ZeQ in C:\Users\zeki1\OneDrive\Masa端st端\message\backend)
2025-06-13 01:12:51,156 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.4.5, Spring v6.2.6
2025-06-13 01:12:51,157 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-06-13 01:12:52,324 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-13 01:12:52,325 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-13 01:12:52,454 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 122 ms. Found 8 JPA repository interfaces.
2025-06-13 01:12:52,471 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-13 01:12:52,472 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-13 01:12:52,489 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.chatapp.repository.AdminRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-13 01:12:52,490 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.chatapp.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-13 01:12:52,491 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.chatapp.repository.ChatRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-13 01:12:52,491 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.chatapp.repository.FriendshipRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-13 01:12:52,492 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.chatapp.repository.GroupInvitationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-13 01:12:52,492 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.chatapp.repository.GroupMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-13 01:12:52,493 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.chatapp.repository.GroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-13 01:12:52,493 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.chatapp.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-13 01:12:52,493 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-06-13 01:12:52,716 INFO o.s.c.l.LogAccessor [main] No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-06-13 01:12:52,723 INFO o.s.c.l.LogAccessor [main] No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-06-13 01:12:53,364 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2025-06-13 01:12:53,381 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-06-13 01:12:53,384 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2025-06-13 01:12:53,385 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-06-13 01:12:53,459 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-06-13 01:12:53,460 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2251 ms
2025-06-13 01:12:53,693 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-13 01:12:53,753 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.13.Final
2025-06-13 01:12:53,796 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-06-13 01:12:54,075 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-13 01:12:54,097 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-06-13 01:12:56,327 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5d15789f
2025-06-13 01:12:56,329 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-06-13 01:12:56,540 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-13 01:12:56,839 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-13 01:12:57,722 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-13 01:13:05,745 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 01:13:06,102 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'corsFilter' configured for use
2025-06-13 01:13:06,258 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-13 01:13:07,923 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-13 01:13:07,952 WARN o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer [main] Found 2 UserDetailsService beans, with names [adminDetailsServiceImpl, userDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-06-13 01:13:08,145 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-06-13 01:13:08,288 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 55 mappings in 'requestMappingHandlerMapping'
2025-06-13 01:13:08,369 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /resources/**, /uploads/**, /user/images/**] in 'resourceHandlerMapping'
2025-06-13 01:13:08,622 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.c.AdminController:
	
2025-06-13 01:13:08,623 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.c.ChatController:
	
2025-06-13 01:13:08,623 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.c.FriendshipController:
	
2025-06-13 01:13:08,623 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.c.GroupController:
	
2025-06-13 01:13:08,628 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.c.GroupMessageController:
	{[MESSAGE],[/group.join.{groupId}]}: joinGroup(Long,SimpMessageHeaderAccessor)
	{[MESSAGE],[/group.message.{groupId}]}: sendGroupMessage(Long,Map,SimpMessageHeaderAccessor)
2025-06-13 01:13:08,628 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.c.MediaController:
	
2025-06-13 01:13:08,629 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.c.UserController:
	
2025-06-13 01:13:08,629 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.w.ChatWebSocketController:
	{[MESSAGE],[/chat.join]}: joinChat(JoinChatMessage,Principal)
	{[MESSAGE],[/chat.sendMessage]}: sendMessage(ChatMessage,Principal)
2025-06-13 01:13:08,630 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.w.StatusController:
	{[MESSAGE],[/status]}: processStatusUpdate(StatusMessage)
	{[MESSAGE],[/friendship]}: processFriendshipUpdate(FriendshipMessage)
2025-06-13 01:13:08,630 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.e.c.w.TypingIndicatorController:
	{[MESSAGE],[/chat.typing]}: processTypingIndicator(TypingIndicator,Principal)
2025-06-13 01:13:08,631 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-06-13 01:13:08,699 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-06-13 01:13:08,759 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-06-13 01:13:09,163 INFO o.s.c.l.LogAccessor [main] Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-13 01:13:09,164 INFO o.s.c.l.LogAccessor [main] Channel 'application.errorChannel' has 1 subscriber(s).
2025-06-13 01:13:09,164 INFO o.s.c.l.LogAccessor [main] started bean '_org.springframework.integration.errorLogger'
2025-06-13 01:13:09,165 DEBUG o.s.c.l.CompositeLog [main] clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-06-13 01:13:09,165 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-06-13 01:13:09,166 INFO o.s.c.l.CompositeLog [main] Starting...
2025-06-13 01:13:09,166 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69a47ed3]
2025-06-13 01:13:09,166 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69a47ed3]
2025-06-13 01:13:09,167 INFO o.s.c.l.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69a47ed3]]
2025-06-13 01:13:09,168 INFO o.s.c.l.CompositeLog [main] Started.
2025-06-13 01:13:09,168 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-06-13 01:13:09,168 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-06-13 01:13:09,168 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2025-06-13 01:13:09,186 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2025-06-13 01:13:10,084 INFO o.s.b.StartupInfoLogger [main] Started ChatappApplication in 19.645 seconds (process running for 20.121)
2025-06-13 01:13:35,928 INFO o.s.b.w.e.t.GracefulShutdown [SpringApplicationShutdownHook] Commencing graceful shutdown. Waiting for active requests to complete
2025-06-13 01:13:35,936 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2025-06-13 01:13:35,938 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-06-13 01:13:35,938 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-06-13 01:13:35,938 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-06-13 01:13:35,938 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69a47ed3]]
2025-06-13 01:13:35,938 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69a47ed3]
2025-06-13 01:13:35,938 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69a47ed3]
2025-06-13 01:13:35,938 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-06-13 01:13:35,938 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-06-13 01:13:35,939 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-06-13 01:13:35,945 INFO o.s.c.l.LogAccessor [SpringApplicationShutdownHook] Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-13 01:13:35,946 INFO o.s.c.l.LogAccessor [SpringApplicationShutdownHook] Channel 'application.errorChannel' has 0 subscriber(s).
2025-06-13 01:13:35,946 INFO o.s.c.l.LogAccessor [SpringApplicationShutdownHook] stopped bean '_org.springframework.integration.errorLogger'
2025-06-13 01:13:35,956 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 01:13:35,958 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-06-13 01:13:37,443 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
